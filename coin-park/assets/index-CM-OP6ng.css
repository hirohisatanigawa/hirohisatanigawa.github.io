:root{--primary-color: #FF6B6B;--secondary-color: #4ECDC4;--accent-color: #FFE66D;--success-color: #95E1D3;--error-color: #F38181;--coin-10-color: #D4A574;--coin-1-color: #C0C0C0;--main-font: "Hiragino Kaku Gothic Pro", "Meiryo", sans-serif;--shadow: 0 4px 8px rgba(0,0,0,.1);--border-radius: 12px}*{margin:0;padding:0;box-sizing:border-box}body{font-family:var(--main-font);background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;font-size:16px;line-height:1.6}#app{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh}.game-header{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:20px;border-radius:var(--border-radius);box-shadow:var(--shadow);margin-bottom:20px}.game-header h1{color:var(--primary-color);font-size:2.5rem;font-weight:700}.header-controls{display:flex;gap:10px}.btn{padding:10px 20px;border:none;border-radius:var(--border-radius);font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease}.btn:hover{transform:translateY(-2px);box-shadow:0 6px 12px #00000026}.btn-primary{background:var(--primary-color);color:#fff}.btn-secondary{background:var(--secondary-color);color:#fff}.game-info{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:15px 20px;border-radius:var(--border-radius);box-shadow:var(--shadow);margin-bottom:20px;font-size:1.2rem}.level-info{display:flex;align-items:center;gap:10px}.stars{display:flex;gap:5px}.star{font-size:1.5rem;color:#ddd}.star.active{color:var(--accent-color)}.coin-count{color:var(--primary-color);font-weight:700}.game-area{display:grid;grid-template-columns:1fr;gap:20px;margin-bottom:20px}.shop-section{background:#fff;padding:20px;border-radius:var(--border-radius);box-shadow:var(--shadow)}.shop-title{color:var(--primary-color);font-size:1.8rem;margin-bottom:20px;text-align:center}.shop-items{display:flex;justify-content:center;gap:30px;margin-bottom:30px}.shop-item{text-align:center;padding:20px;border-radius:var(--border-radius);background:#f8f9fa;min-width:120px;transition:transform .3s ease}.shop-item:hover{transform:scale(1.05)}.item-image{font-size:3rem;margin-bottom:10px}.item-name{font-size:1.2rem;margin-bottom:5px;color:#333}.item-price{font-size:1.4rem;font-weight:700;color:var(--primary-color)}.customer-section{text-align:center}.customer{margin-bottom:20px}.customer-image{font-size:4rem;margin-bottom:15px}.speech-bubble{background:#f8f9fa;padding:15px 20px;border-radius:20px;display:inline-block;position:relative;font-size:1.3rem;max-width:300px}.speech-bubble:before{content:"";position:absolute;top:-10px;left:50%;transform:translate(-50%);width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #f8f9fa}.total-section{font-size:1.5rem;color:var(--primary-color);font-weight:700;text-align:center;margin-top:15px}#hint-button{font-size:1.2rem;padding:10px 20px;margin:10px auto;display:block}#total-hint{font-size:1.5rem;color:var(--success-color);background:#95e1d333;padding:10px 15px;border-radius:var(--border-radius);border:2px solid var(--success-color);margin:10px auto;display:inline-block}.game-controls{display:grid;grid-template-columns:1fr 1fr;gap:20px}.wallet-section,.register-section{background:#fff;padding:20px;border-radius:var(--border-radius);box-shadow:var(--shadow)}.wallet-section h3,.register-section h3{color:var(--primary-color);font-size:1.5rem;margin-bottom:15px;text-align:center}.coin-group{display:flex;align-items:center;margin-bottom:15px;gap:10px}.coin-label{font-size:1.2rem;font-weight:700;min-width:50px}.coins-container{display:flex;flex-wrap:wrap;gap:5px}.register{text-align:center}.register-display{background:#2c3e50;color:#2ecc71;padding:15px;border-radius:var(--border-radius);margin-bottom:15px;font-size:1.8rem;font-weight:700;font-family:Courier New,monospace}.register-coins{min-height:80px;border:2px dashed #ddd;border-radius:var(--border-radius);padding:10px;margin-bottom:15px;display:flex;flex-wrap:wrap;gap:5px;align-items:center;justify-content:center}#check-answer{width:100%;padding:15px;font-size:1.3rem}.feedback-section{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;opacity:1;transition:opacity .3s ease}.feedback-content{background:#fff;padding:40px;border-radius:var(--border-radius);text-align:center;max-width:400px;width:90%}.feedback-message{font-size:1.8rem;margin-bottom:30px}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:2000;opacity:1;transition:opacity .3s ease;padding:20px;box-sizing:border-box}.modal-content{background:#fff;border-radius:var(--border-radius);box-shadow:0 10px 30px #0000004d;max-width:500px;width:100%;max-height:90vh;overflow-y:auto;position:relative;padding:30px;box-sizing:border-box}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #eee}.modal-header h3{margin:0;color:var(--primary-color);font-size:1.8rem}.modal-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#666;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s}.modal-close:hover{background-color:#f5f5f5}.modal-body{line-height:1.6}.setting-item{margin-bottom:15px;padding:10px;background:#f8f9fa;border-radius:8px}.setting-item label{display:flex;align-items:center;cursor:pointer;font-size:1.1rem}.setting-item input[type=checkbox]{margin-right:10px;transform:scale(1.2)}.stats{margin:20px 0}.stats p{margin:8px 0;padding:8px 12px;background:#f0f8ff;border-radius:5px;border-left:4px solid var(--secondary-color)}.setting-buttons{display:flex;gap:10px;margin-top:20px;flex-wrap:wrap}.setting-buttons button{flex:1;min-width:120px;padding:12px 20px;border:none;border-radius:var(--border-radius);cursor:pointer;font-size:1rem;transition:all .3s ease}.setting-buttons button:first-child{background:var(--secondary-color);color:#fff}.setting-buttons button:last-child{background:var(--error-color);color:#fff}.setting-buttons button:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003}.help-content p{margin-bottom:15px}.help-content h4{color:var(--primary-color);margin:20px 0 10px;font-size:1.2rem}@media (max-width: 768px){.game-controls{grid-template-columns:1fr}.shop-items{flex-direction:row;flex-wrap:wrap;justify-content:center;gap:15px}.shop-item{min-width:100px;max-width:140px;flex:0 0 auto}.game-header{padding:15px;flex-direction:column;gap:15px}.game-header h1{font-size:1.8rem}.header-controls{width:100%;justify-content:center}.feedback-content{padding:25px;margin:10px}.modal-content{padding:20px;margin:10px}.modal-header h3{font-size:1.5rem}.setting-buttons{flex-direction:column}.setting-buttons button{min-width:auto}}@media (max-width: 480px){.game-header h1{font-size:1.5rem}.shop-item{min-width:80px;max-width:120px;padding:15px}.item-image{font-size:2.5rem}.item-name{font-size:1rem}.item-price{font-size:1.2rem}.modal-content{padding:15px}.btn{padding:12px 16px;font-size:.9rem}}.coin{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.2rem;cursor:grab;transition:all .3s ease;box-shadow:0 2px 4px #0003;border:3px solid rgba(255,255,255,.3)}.coin:hover{transform:scale(1.1);box-shadow:0 4px 8px #0000004d}.coin:active{cursor:grabbing;transform:scale(.95)}.coin-10{background:radial-gradient(circle,var(--coin-10-color),#B8956A);color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.coin-1{background:radial-gradient(circle,var(--coin-1-color),#A0A0A0);color:#333;text-shadow:1px 1px 2px rgba(255,255,255,.3)}.coin-ghost{opacity:.5;transform:rotate(5deg)}.sortable-chosen{opacity:.8}.sortable-drag{opacity:.6;transform:rotate(5deg)}.register-coins.drag-over{border-color:var(--success-color);background-color:#95e1d31a}.wallet.drag-over{background-color:#ff6b6b1a}.calculation-step{background:#f8f9fa;border:2px solid var(--accent-color);border-radius:var(--border-radius);padding:20px;margin:10px 0;text-align:center;font-size:1.3rem}.calculation-step.active{background:var(--accent-color);color:#333;animation:pulse 1s infinite}.calculation-visual{display:flex;align-items:center;justify-content:center;gap:10px;margin:15px 0}.calculation-coins{display:flex;gap:5px;align-items:center}.calculation-operator{font-size:2rem;font-weight:700;color:var(--primary-color)}.carry-over-animation{position:relative}.carry-over-highlight{background:var(--accent-color);border-radius:50%;padding:5px;animation:highlight .5s ease-in-out}.ten-conversion{animation:tenConversion 1s ease-in-out}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes highlight{0%{background:transparent}50%{background:var(--accent-color)}to{background:transparent}}@keyframes tenConversion{0%{transform:scale(1) rotate(0)}50%{transform:scale(1.5) rotate(180deg)}to{transform:scale(1) rotate(360deg)}}.success-feedback{color:var(--success-color);background:#95e1d31a;border:2px solid var(--success-color)}.error-feedback{color:var(--error-color);background:#f381811a;border:2px solid var(--error-color)}.hint-box{background:var(--accent-color);padding:15px;border-radius:var(--border-radius);margin:15px 0;text-align:center;font-size:1.2rem;animation:slideIn .5s ease-out}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.confetti-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999}@keyframes coinBounce{0%{transform:translateY(0) scale(1)}25%{transform:translateY(-10px) scale(1.1)}50%{transform:translateY(-5px) scale(1.05)}75%{transform:translateY(-2px) scale(1.02)}to{transform:translateY(0) scale(1)}}@keyframes shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}@keyframes correctAnswer{0%{transform:scale(1);background:#fff}50%{transform:scale(1.05);background:var(--success-color)}to{transform:scale(1);background:#fff}}@keyframes wrongAnswer{0%{transform:translate(0);background:#fff}25%{transform:translate(-5px);background:var(--error-color)}50%{transform:translate(5px);background:var(--error-color)}75%{transform:translate(-5px);background:var(--error-color)}to{transform:translate(0);background:#fff}}@keyframes fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOut{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-20px)}}@keyframes customerJump{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes sparkle{0%,to{opacity:0;transform:scale(0) rotate(0)}50%{opacity:1;transform:scale(1) rotate(180deg)}}@keyframes coinFlip{0%{transform:rotateY(0)}50%{transform:rotateY(90deg)}to{transform:rotateY(180deg)}}@keyframes levelUp{0%{transform:scale(1);opacity:1}25%{transform:scale(1.2);opacity:.8}50%{transform:scale(1.5);opacity:.6}75%{transform:scale(1.3);opacity:.8}to{transform:scale(1);opacity:1}}.bounce-in{animation:coinBounce .6s ease-out}.shake-animation{animation:shake .5s linear}.correct-animation{animation:correctAnswer 1s ease-in-out}.wrong-animation{animation:wrongAnswer .5s ease-in-out}.fade-in{animation:fadeIn .5s ease-out}.fade-out{animation:fadeOut .5s ease-out}.customer-happy{animation:customerJump .8s ease-in-out}.sparkle-effect{position:relative}.sparkle-effect:before{content:"âœ¨";position:absolute;top:-10px;right:-10px;animation:sparkle 1s ease-in-out infinite}.coin-flip{animation:coinFlip .8s ease-in-out}.level-up-animation{animation:levelUp 2s ease-in-out}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}
